<!DOCTYPE html>
<html>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<head>
    <title>{{ tracker['name'] }} Tracker Details</title>
    <style>
        table, th, td {
          border: 1px solid black;
          border-collapse: collapse;
        }
    </style>
</head>
<body>
<h1>Hello {{ username }}!</h1>
<div style="text-align:center;">
<a href="/logout">logout</a>
</div>
<h2>{{ tracker['name'] }} - Tracker</h2>
<div id="tracking-graph">
<span id="myPlot" style="width:100%;max-width:700px"></span>

<script>

graph({{ logs }});

function graph(logs) {
console.log(logs);
var xArray = [50,60,70,80,90,100,110,120,130,140,150];
var yArray = [7,8,8,9,9,9,10,11,14,14,15];

// Define Data
var data = [{
  x: xArray,
  y: yArray,
  mode:"lines"
}];

// Define Layout
var layout = {
  xaxis: {range: [40, 160], title: "Time stamp"},
  yaxis: {range: [5, 16], title: "Value"},
  title: "Trend line"
};

// Display using Plotly
Plotly.newPlot("myPlot", data, layout);
}
</script>
<select name="period" id="period">
  <option value="default" selected disabled hidden>Period</option>
  <option value="day">Today</option>
  <option value="week">This week</option>
    <option value="month">This month</option>
</select>
</div>
<h2>Logs</h2>
<table id = "tracker-logs">
<thead>
<th>On</th>
<th>Value</th>
<th></th>
<th></th>
<th></th>
</thead>
<tbody>
{% for log in logs%}
<tr>
    <td>{{ log['timestamp'] }}</td>
    <td>{{ log['value'] }}</td>
    <td>{{ log['note'] }}</td>
    <td><a href="/tracker/{{ tracker['id'] }}/log/{{ log['id'] }}/update">Update</a></td>
    <td><a href="/tracker/{{ tracker['id'] }}/log/{{ log['id'] }}/delete">Delete</a></td>
</tr>
{% endfor %}
</tbody>
</table>
</body>
</html>